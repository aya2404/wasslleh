# 🔧 دليل الأدوات المساعدة - تطبيق وصلة

## 📋 نظرة عامة

مجلد الأدوات المساعدة يحتوي على وظائف وكلاسات مساعدة عامة يتم استخدامها عبر التطبيق. هذه الأدوات مصممة لتوفير الوقت وضمان الاتساق في الكود.

## 📁 بنية مجلد الأدوات

```
utils/
├── 🗃️ supabase/                # أدوات Supabase
│   └── info.tsx                # معلومات الاتصال بقاعدة البيانات
├── 📅 dateUtils.ts             # أدوات التاريخ والوقت
├── 🔧 formatUtils.ts           # أدوات التنسيق والعرض
├── ✅ validationUtils.ts       # أدوات التحقق من البيانات
├── 🔒 securityUtils.ts         # أدوات الأمان والتشفير
├── ♿ accessibilityUtils.ts    # أدوات الوصولية
├── 🌐 locationUtils.ts         # أدوات المواقع والإحداثيات
├── 💾 storageUtils.ts          # أدوات التخزين المحلي
└── 🎨 uiUtils.ts               # أدوات واجهة المستخدم
```

---

## 🗃️ supabase/info.tsx - معلومات قاعدة البيانات

### **الوظيفة الأساسية**:
إدارة معلومات الاتصال بقاعدة بيانات Supabase بشكل آمن.

### **المحتوى**:
```typescript
/**
 * معلومات الاتصال بـ Supabase
 * يحتوي على معرف المشروع والمفاتيح اللازمة للاتصال
 */

// معرف المشروع من رابط Supabase
export const projectId = import.meta.env.VITE_SUPABASE_PROJECT_ID || 'your-project-id';

// المفتاح العام للاتصال من جانب العميل
export const publicAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY || 'your-anon-key';

// رابط المشروع الكامل
export const supabaseUrl = `https://${projectId}.supabase.co`;

// التحقق من صحة الإعدادات
export const isSupabaseConfigured = (): boolean => {
  return !!(projectId && 
            publicAnonKey && 
            !projectId.includes('your-') && 
            !publicAnonKey.includes('your-'));
};

// معلومات البيئة
export const getEnvironmentInfo = () => ({
  projectId,
  url: supabaseUrl,
  isConfigured: isSupabaseConfigured(),
  environment: import.meta.env.VITE_APP_ENV || 'development'
});
```

### **الاستخدام**:
```typescript
import { projectId, publicAnonKey, supabaseUrl, isSupabaseConfigured } from './utils/supabase/info';

// التحقق من الإعداد قبل الاستخدام
if (isSupabaseConfigured()) {
  // إنشاء اتصال Supabase
  const supabase = createClient(supabaseUrl, publicAnonKey);
} else {
  console.error('Supabase غير مُكون بشكل صحيح');
}
```

---

## 📅 dateUtils.ts - أدوات التاريخ والوقت

### **الوظائف المتاحة**:

#### 🕐 **تنسيق التواريخ**
```typescript
/**
 * تنسيق التاريخ للعرض باللغة العربية
 * @param date - التاريخ المراد تنسيقه
 * @param format - نوع التنسيق
 * @returns التاريخ منسق بالعربية
 */
export function formatDateArabic(
  date: Date | string,
  format: 'short' | 'medium' | 'long' | 'full' = 'medium'
): string {
  const dateObj = typeof date === 'string' ? new Date(date) : date;
  
  const options: Intl.DateTimeFormatOptions = {
    year: 'numeric',
    month: format === 'short' ? 'numeric' : 'long',
    day: 'numeric',
    calendar: 'gregory',
    numberingSystem: 'arab'
  };

  return new Intl.DateTimeFormat('ar-JO', options).format(dateObj);
}

// أمثلة الاستخدام:
// formatDateArabic(new Date(), 'short') → "٣/١٢/٢٠٢٤"
// formatDateArabic(new Date(), 'long') → "٣ ديسمبر ٢٠٢٤"
```

#### ⏰ **حساب الفترات الزمنية**
```typescript
/**
 * حساب الفترة الزمنية بين تاريخين باللغة العربية
 * @param fromDate - التاريخ الأول
 * @param toDate - التاريخ الثاني (افتراضي: الآن)
 * @returns وصف الفترة بالعربية
 */
export function getTimeAgoArabic(
  fromDate: Date | string,
  toDate: Date = new Date()
): string {
  const from = typeof fromDate === 'string' ? new Date(fromDate) : fromDate;
  const diffMs = toDate.getTime() - from.getTime();
  const diffMinutes = Math.floor(diffMs / (1000 * 60));
  const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

  if (diffMinutes < 1) return 'الآن';
  if (diffMinutes < 60) return `منذ ${diffMinutes} دقيقة`;
  if (diffHours < 24) return `منذ ${diffHours} ساعة`;
  if (diffDays < 7) return `منذ ${diffDays} يوم`;
  
  return formatDateArabic(from, 'short');
}
```

#### 🕌 **التواريخ الهجرية**
```typescript
/**
 * تحويل التاريخ الميلادي إلى هجري
 * @param gregorianDate - التاريخ الميلادي
 * @returns التاريخ الهجري منسق
 */
export function toHijriDate(gregorianDate: Date): string {
  const options: Intl.DateTimeFormatOptions = {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    calendar: 'islamic-umalqura',
    numberingSystem: 'arab'
  };

  return new Intl.DateTimeFormat('ar-SA', options).format(gregorianDate);
}

/**
 * معرفة ما إذا كان التاريخ في أوقات العمل
 * @param date - التاريخ والوقت
 * @param workingHours - ساعات العمل
 * @returns هل في وقت العمل
 */
export function isWorkingHours(
  date: Date = new Date(),
  workingHours = { start: 8, end: 17 }
): boolean {
  const hour = date.getHours();
  const day = date.getDay();
  
  // تجنب الجمعة والسبت في الأردن
  if (day === 5 || day === 6) return false;
  
  return hour >= workingHours.start && hour < workingHours.end;
}
```

---

## 🔧 formatUtils.ts - أدوات التنسيق

### **تنسيق الأرقام والعملات**:

```typescript
/**
 * تنسيق الأرقام للعرض بالعربية
 * @param number - الرقم المراد تنسيقه
 * @param options - خيارات التنسيق
 * @returns الرقم منسق بالعربية
 */
export function formatNumberArabic(
  number: number,
  options: {
    useGrouping?: boolean;
    minimumFractionDigits?: number;
    maximumFractionDigits?: number;
  } = {}
): string {
  return new Intl.NumberFormat('ar-JO', {
    useGrouping: options.useGrouping !== false,
    minimumFractionDigits: options.minimumFractionDigits || 0,
    maximumFractionDigits: options.maximumFractionDigits || 2,
    numberingSystem: 'arab'
  }).format(number);
}

/**
 * تنسيق العملة الأردنية
 * @param amount - المبلغ
 * @returns المبلغ منسق بالدينار الأردني
 */
export function formatJOD(amount: number): string {
  return new Intl.NumberFormat('ar-JO', {
    style: 'currency',
    currency: 'JOD',
    numberingSystem: 'arab'
  }).format(amount);
}

/**
 * تنسيق النسب المئوية
 * @param percentage - النسبة (0-1)
 * @returns النسبة منسقة
 */
export function formatPercentageArabic(percentage: number): string {
  return new Intl.NumberFormat('ar-JO', {
    style: 'percent',
    numberingSystem: 'arab'
  }).format(percentage);
}
```

### **تنسيق النصوص**:

```typescript
/**
 * تحويل النص إلى أحرف كبيرة مع دعم العربية
 * @param text - النص المراد تحويله
 * @returns النص بأحرف كبيرة
 */
export function toUpperCaseArabic(text: string): string {
  return text.toLocaleUpperCase('ar-JO');
}

/**
 * اقتطاع النص مع حفظ الكلمات العربية
 * @param text - النص الأصلي
 * @param maxLength - الطول الأقصى
 * @returns النص مقطوع
 */
export function truncateTextArabic(text: string, maxLength: number): string {
  if (text.length <= maxLength) return text;
  
  // البحث عن آخر مسافة قبل الحد الأقصى
  const truncated = text.substring(0, maxLength);
  const lastSpace = truncated.lastIndexOf(' ');
  
  if (lastSpace > 0) {
    return truncated.substring(0, lastSpace) + '...';
  }
  
  return truncated + '...';
}

/**
 * تنظيف النص من المسافات الزائدة
 * @param text - النص المراد تنظيفه
 * @returns النص منظف
 */
export function cleanText(text: string): string {
  return text
    .trim()
    .replace(/\s+/g, ' ')  // استبدال المسافات المتعددة بمسافة واحدة
    .replace(/[\u200B-\u200D\uFEFF]/g, ''); // إزالة المسافات غير المرئية
}
```

---

## ✅ validationUtils.ts - أدوات التحقق

### **التحقق من البيانات الأساسية**:

```typescript
/**
 * التحقق من صحة البريد الإلكتروني
 * @param email - البريد الإلكتروني
 * @returns هل البريد صحيح
 */
export function validateEmail(email: string): boolean {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email.trim());
}

/**
 * التحقق من قوة كلمة المرور
 * @param password - كلمة المرور
 * @returns تقييم قوة كلمة المرور
 */
export function validatePassword(password: string): {
  isValid: boolean;
  strength: 'ضعيف' | 'متوسط' | 'قوي' | 'قوي جداً';
  issues: string[];
} {
  const issues: string[] = [];
  let score = 0;

  if (password.length < 8) {
    issues.push('يجب أن تكون 8 أحرف على الأقل');
  } else {
    score += 1;
  }

  if (!/[a-z]/.test(password)) {
    issues.push('يجب أن تحتوي على حرف صغير');
  } else {
    score += 1;
  }

  if (!/[A-Z]/.test(password)) {
    issues.push('يجب أن تحتوي على حرف كبير');
  } else {
    score += 1;
  }

  if (!/[0-9]/.test(password)) {
    issues.push('يجب أن تحتوي على رقم');
  } else {
    score += 1;
  }

  if (!/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
    issues.push('يجب أن تحتوي على رمز خاص');
  } else {
    score += 1;
  }

  const strengthLevels = ['ضعيف', 'متوسط', 'قوي', 'قوي جداً'] as const;
  const strength = strengthLevels[Math.min(score - 1, 3)] || 'ضعيف';

  return {
    isValid: issues.length === 0,
    strength,
    issues
  };
}

/**
 * التحقق من رقم الهاتف الأردني
 * @param phone - رقم الهاتف
 * @returns هل الرقم صحيح
 */
export function validateJordanianPhone(phone: string): boolean {
  // إزالة المسافات والرموز
  const cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
  
  // التحقق من الأنماط الأردنية
  const patterns = [
    /^(\+962|00962|962)?7[789]\d{7}$/,  // أرقام الجوال
    /^(\+962|00962|962)?[2-6]\d{7}$/,   // أرقام الأرضي
  ];

  return patterns.some(pattern => pattern.test(cleanPhone));
}
```

### **التحقق من البيانات المتخصصة**:

```typescript
/**
 * التحقق من صحة الرقم الوطني الأردني
 * @param nationalId - الرقم الوطني
 * @returns هل الرقم صحيح
 */
export function validateJordanianNationalId(nationalId: string): boolean {
  // إزالة المسافات
  const cleanId = nationalId.replace(/\s/g, '');
  
  // يجب أن يكون 10 أرقام
  if (!/^\d{10}$/.test(cleanId)) return false;
  
  // خوارزمية التحقق من صحة الرقم الوطني الأردني
  const weights = [1, 2, 3, 4, 5, 6, 7, 8, 9];
  let sum = 0;
  
  for (let i = 0; i < 9; i++) {
    sum += parseInt(cleanId[i]) * weights[i];
  }
  
  const checkDigit = sum % 10;
  return checkDigit === parseInt(cleanId[9]);
}

/**
 * التحقق من مفتاح API
 * @param apiKey - مفتاح API
 * @param service - نوع الخدمة
 * @returns هل المفتاح بالتنسيق الصحيح
 */
export function validateApiKey(apiKey: string, service: string): boolean {
  const patterns: Record<string, RegExp> = {
    'google': /^AIza[0-9A-Za-z\-_]{35}$/,
    'azure': /^[0-9a-f]{32}$/,
    'linkedin': /^[0-9a-z]{10,}$/,
    'supabase': /^eyJ[A-Za-z0-9_-]+\.eyJ[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+$/
  };

  const pattern = patterns[service.toLowerCase()];
  return pattern ? pattern.test(apiKey) : apiKey.length >= 10;
}
```

---

## 🔒 securityUtils.ts - أدوات الأمان

### **التشفير والحماية**:

```typescript
/**
 * تشفير بسيط للبيانات الحساسة (للتطوير فقط)
 * @param text - النص المراد تشفيره
 * @returns النص مشفر
 */
export function simpleEncrypt(text: string): string {
  try {
    return btoa(encodeURIComponent(text));
  } catch (error) {
    console.error('خطأ في التشفير:', error);
    return text;
  }
}

/**
 * فك التشفير البسيط
 * @param encryptedText - النص المشفر
 * @returns النص الأصلي
 */
export function simpleDecrypt(encryptedText: string): string {
  try {
    return decodeURIComponent(atob(encryptedText));
  } catch (error) {
    console.error('خطأ في فك التشفير:', error);
    return encryptedText;
  }
}

/**
 * إنشاء معرف فريد آمن
 * @returns معرف فريد
 */
export function generateSecureId(): string {
  const timestamp = Date.now().toString(36);
  const randomStr = Math.random().toString(36).substring(2);
  return `${timestamp}-${randomStr}`;
}

/**
 * تنظيف البيانات من محاولات XSS
 * @param input - النص المراد تنظيفه
 * @returns النص منظف
 */
export function sanitizeInput(input: string): string {
  return input
    .replace(/[<>]/g, '') // إزالة علامات HTML
    .replace(/javascript:/gi, '') // إزالة JavaScript URLs
    .replace(/on\w+=/gi, '') // إزالة event handlers
    .trim();
}
```

---

## ♿ accessibilityUtils.ts - أدوات الوصولية

### **مساعدات الوصولية**:

```typescript
/**
 * تحديد ما إذا كان المستخدم يستخدم قارئ الشاشة
 * @returns هل يستخدم قارئ الشاشة
 */
export function isScreenReaderActive(): boolean {
  return !!(
    navigator.userAgent.includes('NVDA') ||
    navigator.userAgent.includes('JAWS') ||
    navigator.userAgent.includes('VoiceOver') ||
    (window as any).speechSynthesis
  );
}

/**
 * تحسين التباين للألوان
 * @param foreground - لون المقدمة
 * @param background - لون الخلفية
 * @returns نسبة التباين
 */
export function calculateContrastRatio(foreground: string, background: string): number {
  // تحويل الألوان إلى قيم RGB
  const fg = hexToRgb(foreground);
  const bg = hexToRgb(background);
  
  if (!fg || !bg) return 1;
  
  // حساب اللمعان النسبي
  const l1 = getRelativeLuminance(fg);
  const l2 = getRelativeLuminance(bg);
  
  // حساب نسبة التباين
  const lighter = Math.max(l1, l2);
  const darker = Math.min(l1, l2);
  
  return (lighter + 0.05) / (darker + 0.05);
}

/**
 * إنشاء وصف صوتي للعناصر المرئية
 * @param element - العنصر HTML
 * @returns الوصف الصوتي
 */
export function generateAriaDescription(element: HTMLElement): string {
  const tagName = element.tagName.toLowerCase();
  const role = element.getAttribute('role');
  const text = element.textContent?.trim();
  
  let description = '';
  
  switch (tagName) {
    case 'button':
      description = `زر ${text || 'غير مُسمى'}`;
      break;
    case 'input':
      const type = element.getAttribute('type') || 'text';
      description = `حقل ${getInputTypeArabic(type)}`;
      break;
    case 'img':
      const alt = element.getAttribute('alt');
      description = alt || 'صورة';
      break;
    default:
      description = text || tagName;
  }
  
  return description;
}

/**
 * تحسين عناصر النموذج للوصولية
 * @param form - النموذج
 */
export function enhanceFormAccessibility(form: HTMLFormElement): void {
  const inputs = form.querySelectorAll('input, select, textarea');
  
  inputs.forEach((input) => {
    const element = input as HTMLInputElement;
    
    // إضافة تسميات إذا لم تكن موجودة
    if (!element.getAttribute('aria-label') && !element.getAttribute('aria-labelledby')) {
      const label = form.querySelector(`label[for="${element.id}"]`);
      if (label) {
        element.setAttribute('aria-labelledby', label.id || generateSecureId());
      }
    }
    
    // إضافة وصف للحقول المطلوبة
    if (element.hasAttribute('required')) {
      const currentDescription = element.getAttribute('aria-description') || '';
      element.setAttribute('aria-description', `${currentDescription} هذا الحقل مطلوب`.trim());
    }
    
    // تحسين رسائل الخطأ
    const errorElement = form.querySelector(`[data-error-for="${element.id}"]`);
    if (errorElement) {
      element.setAttribute('aria-describedby', errorElement.id || generateSecureId());
    }
  });
}
```

---

## 🌐 locationUtils.ts - أدوات المواقع

### **عمليات الإحداثيات**:

```typescript
/**
 * حساب المسافة بين نقطتين بالكيلومتر
 * @param lat1 - خط العرض الأول
 * @param lon1 - خط الطول الأول
 * @param lat2 - خط العرض الثاني
 * @param lon2 - خط الطول الثاني
 * @returns المسافة بالكيلومتر
 */
export function calculateDistance(
  lat1: number, lon1: number,
  lat2: number, lon2: number
): number {
  const R = 6371; // نصف قطر الأرض بالكيلومتر
  const dLat = toRadians(lat2 - lat1);
  const dLon = toRadians(lon2 - lon1);
  
  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *
    Math.sin(dLon/2) * Math.sin(dLon/2);
  
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  
  return R * c;
}

/**
 * التحقق من وجود النقطة داخل منطقة الأردن
 * @param lat - خط العرض
 * @param lng - خط الطول
 * @returns هل النقطة في الأردن
 */
export function isInJordan(lat: number, lng: number): boolean {
  // حدود الأردن التقريبية
  const jordanBounds = {
    north: 33.367,
    south: 29.183,
    east: 39.301,
    west: 34.959
  };
  
  return lat >= jordanBounds.south &&
         lat <= jordanBounds.north &&
         lng >= jordanBounds.west &&
         lng <= jordanBounds.east;
}

/**
 * الحصول على اسم المحافظة من الإحداثيات
 * @param lat - خط العرض
 * @param lng - خط الطول
 * @returns اسم المحافظة
 */
export function getJordanianGovernorate(lat: number, lng: number): string {
  // محافظات أردنية مع إحداثياتها التقريبية
  const governorates = [
    { name: 'عمان', center: [31.9522, 35.9104], radius: 0.5 },
    { name: 'إربد', center: [32.5556, 35.8500], radius: 0.3 },
    { name: 'الزرقاء', center: [32.0732, 36.0888], radius: 0.2 },
    { name: 'البلقاء', center: [31.8500, 35.7000], radius: 0.3 },
    { name: 'مادبا', center: [31.7167, 35.7944], radius: 0.2 },
    { name: 'الكرك', center: [31.1856, 35.7048], radius: 0.3 },
    { name: 'الطفيلة', center: [30.8372, 35.6044], radius: 0.2 },
    { name: 'معان', center: [30.1962, 35.7340], radius: 0.4 },
    { name: 'العقبة', center: [29.5321, 35.0063], radius: 0.1 },
    { name: 'جرش', center: [32.2811, 35.8992], radius: 0.2 },
    { name: 'عجلون', center: [32.3322, 35.7517], radius: 0.1 },
    { name: 'المفرق', center: [32.3434, 36.2081], radius: 0.4 }
  ];

  for (const gov of governorates) {
    const distance = calculateDistance(lat, lng, gov.center[0], gov.center[1]);
    if (distance <= gov.radius) {
      return gov.name;
    }
  }

  return 'غير محدد';
}
```

---

## 💾 storageUtils.ts - أدوات التخزين

### **إدارة التخزين المحلي**:

```typescript
/**
 * حفظ البيانات في التخزين المحلي مع معالجة الأخطاء
 * @param key - مفتاح البيانات
 * @param value - البيانات المراد حفظها
 * @returns نجح الحفظ أم لا
 */
export function setLocalStorage<T>(key: string, value: T): boolean {
  try {
    if (typeof localStorage === 'undefined') {
      console.warn('localStorage غير متوفر');
      return false;
    }
    
    const serializedValue = JSON.stringify(value);
    localStorage.setItem(key, serializedValue);
    return true;
  } catch (error) {
    console.error('خطأ في حفظ البيانات:', error);
    return false;
  }
}

/**
 * استرداد البيانات من التخزين المحلي
 * @param key - مفتاح البيانات
 * @param defaultValue - القيمة الافتراضية
 * @returns البيانات المسترجعة
 */
export function getLocalStorage<T>(key: string, defaultValue: T): T {
  try {
    if (typeof localStorage === 'undefined') {
      return defaultValue;
    }
    
    const item = localStorage.getItem(key);
    if (item === null) {
      return defaultValue;
    }
    
    return JSON.parse(item) as T;
  } catch (error) {
    console.error('خطأ في استرداد البيانات:', error);
    return defaultValue;
  }
}

/**
 * إزالة البيانات من التخزين المحلي
 * @param key - مفتاح البيانات
 */
export function removeLocalStorage(key: string): boolean {
  try {
    if (typeof localStorage === 'undefined') {
      return false;
    }
    
    localStorage.removeItem(key);
    return true;
  } catch (error) {
    console.error('خطأ في حذف البيانات:', error);
    return false;
  }
}

/**
 * مسح جميع البيانات المحفوظة للتطبيق
 */
export function clearAppStorage(): boolean {
  try {
    if (typeof localStorage === 'undefined') {
      return false;
    }
    
    // مسح البيانات التي تبدأ بـ "waslah_"
    const keysToRemove: string[] = [];
    for (let i = 0; i < localStorage.length; i++) {
      const key = localStorage.key(i);
      if (key && key.startsWith('waslah_')) {
        keysToRemove.push(key);
      }
    }
    
    keysToRemove.forEach(key => localStorage.removeItem(key));
    return true;
  } catch (error) {
    console.error('خطأ في مسح البيانات:', error);
    return false;
  }
}
```

---

## 🎨 uiUtils.ts - أدوات واجهة المستخدم

### **مساعدات الواجهة**:

```typescript
/**
 * إنشاء فئات CSS مشروطة
 * @param classes - كائن الفئات مع شروطها
 * @returns سلسلة الفئات النهائية
 */
export function classNames(...classes: (string | undefined | null | false)[]): string {
  return classes.filter(Boolean).join(' ');
}

/**
 * حساب حجم النص المناسب حسب نوع الإعاقة
 * @param baseSize - الحجم الأساسي
 * @param disabilityType - نوع الإعاقة
 * @returns الحجم المحسوب
 */
export function calculateAccessibleFontSize(
  baseSize: number,
  disabilityType: string
): number {
  const multipliers: Record<string, number> = {
    'visual': 1.5,     // تكبير 50% للإعاقة البصرية
    'cognitive': 1.2,  // تكبير 20% لصعوبات التعلم
    'motor': 1.1,      // تكبير 10% للإعاقة الحركية
    'none': 1.0        // بدون تكبير
  };

  return baseSize * (multipliers[disabilityType] || 1.0);
}

/**
 * تحديد ألوان الحالة المناسبة
 * @param status - حالة العنصر
 * @returns ألوان CSS
 */
export function getStatusColors(
  status: 'success' | 'warning' | 'error' | 'info' | 'neutral'
): { background: string; text: string; border: string } {
  const colors = {
    success: {
      background: 'var(--color-calm-green)',
      text: '#ffffff',
      border: 'var(--color-calm-green)'
    },
    warning: {
      background: 'var(--color-light-orange)',
      text: 'var(--color-dark-purple)',
      border: 'var(--color-vibrant-orange)'
    },
    error: {
      background: '#ef4444',
      text: '#ffffff',
      border: '#dc2626'
    },
    info: {
      background: 'var(--color-pastel-purple)',
      text: 'var(--color-dark-purple)',
      border: 'var(--color-dark-purple)'
    },
    neutral: {
      background: 'var(--color-light-beige)',
      text: 'var(--color-dark-purple)',
      border: 'var(--color-pastel-purple)'
    }
  };

  return colors[status];
}

/**
 * إنشاء معرف فريد للعناصر
 * @param prefix - بادئة المعرف
 * @returns معرف فريد
 */
export function generateElementId(prefix: string = 'element'): string {
  return `${prefix}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
}
```

---

## 🚀 أفضل الممارسات

### **عند استخدام الأدوات**:

#### ✅ **ما يجب فعله**:
- استورد فقط الوظائف المطلوبة
- اقرأ التوثيق لكل وظيفة
- تعامل مع الأخطاء بشكل صحيح
- استخدم TypeScript للتحقق من الأنواع

#### ❌ **ما يجب تجنبه**:
- لا تستورد جميع الأدوات إذا كنت تحتاج واحدة فقط
- لا تتجاهل قيم الإرجاع للتحقق من النجاح
- لا تعدل الأدوات مباشرة، بل أنشئ أدوات جديدة

### **مثال الاستخدام الصحيح**:
```typescript
// ✅ استيراد محدد
import { formatDateArabic, validateEmail } from './utils/formatUtils';
import { setLocalStorage, getLocalStorage } from './utils/storageUtils';

// ✅ استخدام مع معالجة الأخطاء
const saveUserData = (userData: UserData) => {
  const isValid = validateEmail(userData.email);
  if (!isValid) {
    throw new Error('البريد الإلكتروني غير صحيح');
  }
  
  const success = setLocalStorage('userData', userData);
  if (!success) {
    console.error('فشل في حفظ بيانات المستخدم');
  }
};
```

---

## 🔧 إضافة أدوات جديدة

### **هيكل الأداة الجديدة**:
```typescript
/**
 * وصف الوظيفة بالعربية
 * @param param1 - وصف المعامل الأول
 * @param param2 - وصف المعامل الثاني
 * @returns وصف القيمة المُرجعة
 */
export function newUtilityFunction(param1: Type1, param2: Type2): ReturnType {
  try {
    // منطق الوظيفة
    return result;
  } catch (error) {
    console.error('خطأ في [اسم الوظيفة]:', error);
    // إرجاع قيمة افتراضية آمنة
    return defaultValue;
  }
}
```

### **اختبار الأدوات**:
```typescript
// إنشاء ملف اختبار: __tests__/newUtils.test.ts
import { newUtilityFunction } from '../utils/newUtils';

describe('newUtilityFunction', () => {
  test('يجب أن تعمل مع البيانات الصحيحة', () => {
    const result = newUtilityFunction('input');
    expect(result).toBe('expected output');
  });

  test('يجب أن تتعامل مع الأخطاء بشكل صحيح', () => {
    const result = newUtilityFunction(null);
    expect(result).toBe(null); // أو القيمة الافتراضية
  });
});
```

---

**🎯 هدفنا**: أدوات موثوقة وسهلة الاستخدام توفر الوقت وتضمن الجودة!